{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AlarmClock = function AlarmClock() {\n  var _useState = useState(new Date()),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedTime = _useState2[0],\n    setSelectedTime = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showTimePicker = _useState4[0],\n    setShowTimePicker = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    alarms = _useState6[0],\n    setAlarms = _useState6[1];\n  useEffect(function () {\n    loadAlarms();\n  }, []);\n  var loadAlarms = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var storedAlarms = yield AsyncStorage.getItem('alarms');\n        if (storedAlarms) {\n          setAlarms(JSON.parse(storedAlarms));\n        }\n      } catch (error) {\n        console.error('Error loading alarms:', error);\n      }\n    });\n    return function loadAlarms() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var saveAlarms = function () {\n    var _ref2 = _asyncToGenerator(function* (updatedAlarms) {\n      try {\n        yield AsyncStorage.setItem('alarms', JSON.stringify(updatedAlarms));\n      } catch (error) {\n        console.error('Error saving alarms:', error);\n      }\n    });\n    return function saveAlarms(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleTimeChange = function handleTimeChange(event, time) {\n    if (time) {\n      setSelectedTime(time);\n      setShowTimePicker(false);\n      scheduleAlarm(time);\n    }\n  };\n  var scheduleAlarm = function () {\n    var _ref3 = _asyncToGenerator(function* (time) {\n      var newAlarm = {\n        id: Date.now(),\n        time: time\n      };\n      var updatedAlarms = [].concat(_toConsumableArray(alarms), [newAlarm]);\n      setAlarms(updatedAlarms);\n      saveAlarms(updatedAlarms);\n      console.log('Alarm scheduled');\n    });\n    return function scheduleAlarm(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var deleteAlarm = function deleteAlarm(id) {\n    var updatedAlarms = alarms.filter(function (alarm) {\n      return alarm.id !== id;\n    });\n    setAlarms(updatedAlarms);\n    saveAlarms(updatedAlarms);\n  };\n  var renderAlarm = function renderAlarm(_ref4) {\n    var item = _ref4.item;\n    return _jsxs(View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginVertical: 10\n      },\n      children: [_jsx(Text, {\n        style: {\n          flex: 1\n        },\n        children: item.time.toLocaleTimeString()\n      }), _jsx(Button, {\n        title: \"Delete\",\n        onPress: function onPress() {\n          return deleteAlarm(item.id);\n        }\n      })]\n    });\n  };\n  var showPicker = function showPicker() {\n    setShowTimePicker(true);\n  };\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsx(Button, {\n      title: \"Set Alarm\",\n      onPress: showPicker\n    }), showTimePicker && _jsx(DateTimePicker, {\n      value: selectedTime,\n      mode: \"time\",\n      display: Platform.OS === 'ios' ? 'spinner' : 'default',\n      onChange: handleTimeChange\n    }), _jsx(FlatList, {\n      data: alarms.sort(function (a, b) {\n        return a.time - b.time;\n      }),\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      },\n      renderItem: renderAlarm\n    })]\n  });\n};\nexport default AlarmClock;","map":{"version":3,"names":["React","useState","useEffect","View","Button","Platform","FlatList","Text","AsyncStorage","DateTimePicker","jsx","_jsx","jsxs","_jsxs","AlarmClock","_useState","Date","_useState2","_slicedToArray","selectedTime","setSelectedTime","_useState3","_useState4","showTimePicker","setShowTimePicker","_useState5","_useState6","alarms","setAlarms","loadAlarms","_ref","_asyncToGenerator","storedAlarms","getItem","JSON","parse","error","console","apply","arguments","saveAlarms","_ref2","updatedAlarms","setItem","stringify","_x","handleTimeChange","event","time","scheduleAlarm","_ref3","newAlarm","id","now","concat","_toConsumableArray","log","_x2","deleteAlarm","filter","alarm","renderAlarm","_ref4","item","style","flexDirection","alignItems","marginVertical","children","flex","toLocaleTimeString","title","onPress","showPicker","value","mode","display","OS","onChange","data","sort","a","b","keyExtractor","toString","renderItem"],"sources":["/Users/zhangxinyi/Desktop/My Home/code/MyProject/components/AlarmClock.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Button, Platform, FlatList, Text, AsyncStorage } from 'react-native';\nimport DateTimePicker from '@react-native-community/datetimepicker';\n\nconst AlarmClock = () => {\n  const [selectedTime, setSelectedTime] = useState(new Date());\n  const [showTimePicker, setShowTimePicker] = useState(false);\n  const [alarms, setAlarms] = useState([]);\n\n  useEffect(() => {\n    loadAlarms();\n  }, []);\n\n  const loadAlarms = async () => {\n    try {\n      const storedAlarms = await AsyncStorage.getItem('alarms');\n      if (storedAlarms) {\n        setAlarms(JSON.parse(storedAlarms));\n      }\n    } catch (error) {\n      console.error('Error loading alarms:', error);\n    }\n  };\n\n  const saveAlarms = async (updatedAlarms) => {\n    try {\n      await AsyncStorage.setItem('alarms', JSON.stringify(updatedAlarms));\n    } catch (error) {\n      console.error('Error saving alarms:', error);\n    }\n  };\n\n  const handleTimeChange = (event, time) => {\n    if (time) {\n      setSelectedTime(time);\n      setShowTimePicker(false);\n      scheduleAlarm(time);\n    }\n  };\n\n  const scheduleAlarm = async (time) => {\n    const newAlarm = { id: Date.now(), time };\n    const updatedAlarms = [...alarms, newAlarm];\n    setAlarms(updatedAlarms);\n    saveAlarms(updatedAlarms);\n\n    console.log('Alarm scheduled');\n  };\n\n  const deleteAlarm = (id) => {\n    const updatedAlarms = alarms.filter((alarm) => alarm.id !== id);\n    setAlarms(updatedAlarms);\n    saveAlarms(updatedAlarms);\n  };\n\n  const renderAlarm = ({ item }) => (\n    <View style={{ flexDirection: 'row', alignItems: 'center', marginVertical: 10 }}>\n      <Text style={{ flex: 1 }}>{item.time.toLocaleTimeString()}</Text>\n      <Button title=\"Delete\" onPress={() => deleteAlarm(item.id)} />\n    </View>\n  );\n\n  const showPicker = () => {\n    setShowTimePicker(true);\n  };\n\n  return (\n    <View style={{ flex: 1 }}>\n      <Button title=\"Set Alarm\" onPress={showPicker} />\n      {showTimePicker && (\n        <DateTimePicker\n          value={selectedTime}\n          mode=\"time\"\n          display={Platform.OS === 'ios' ? 'spinner' : 'default'}\n          onChange={handleTimeChange}\n        />\n      )}\n      <FlatList\n        data={alarms.sort((a, b) => a.time - b.time)}\n        keyExtractor={(item) => item.id.toString()}\n        renderItem={renderAlarm}\n      />\n    </View>\n  );\n};\n\nexport default AlarmClock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}