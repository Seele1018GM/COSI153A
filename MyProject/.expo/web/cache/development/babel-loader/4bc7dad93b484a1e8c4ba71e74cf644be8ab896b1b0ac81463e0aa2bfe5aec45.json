{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { TimePickerAndroid } from \"react-native-web/dist/index\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AlarmClock = function AlarmClock() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    alarmTime = _useState2[0],\n    setAlarmTime = _useState2[1];\n  var showTimePicker = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var _yield$TimePickerAndr = yield TimePickerAndroid.open({\n            is24Hour: true\n          }),\n          action = _yield$TimePickerAndr.action,\n          hour = _yield$TimePickerAndr.hour,\n          minute = _yield$TimePickerAndr.minute;\n        if (action !== TimePickerAndroid.dismissedAction) {\n          var formattedHour = hour < 10 ? \"0\" + hour : hour;\n          var formattedMinute = minute < 10 ? \"0\" + minute : minute;\n          var selectedTime = formattedHour + \":\" + formattedMinute;\n          setAlarmTime(selectedTime);\n          scheduleAlarm(selectedTime);\n        }\n      } catch (error) {\n        console.log('Time picker error: ', error);\n      }\n    });\n    return function showTimePicker() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var scheduleAlarm = function scheduleAlarm(time) {\n    var currentDateTime = new Date();\n    var _time$split = time.split(':'),\n      _time$split2 = _slicedToArray(_time$split, 2),\n      selectedHour = _time$split2[0],\n      selectedMinute = _time$split2[1];\n    var alarmDateTime = new Date(currentDateTime.getFullYear(), currentDateTime.getMonth(), currentDateTime.getDate(), Number(selectedHour), Number(selectedMinute));\n    if (alarmDateTime <= currentDateTime) {\n      Alert.alert('Invalid Time', 'Please select a future time for the alarm.');\n    } else {\n      var timeDifference = alarmDateTime.getTime() - currentDateTime.getTime();\n      setTimeout(function () {\n        Alert.alert('Alarm', 'Wake up! It\\'s time!');\n        setAlarmTime(null);\n      }, timeDifference);\n    }\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Alarm Clock\"\n    }), _jsx(Text, {\n      style: styles.selectedTime,\n      children: alarmTime ? \"Alarm set for \" + alarmTime : 'No alarm set'\n    }), _jsx(Button, {\n      title: \"Set Alarm\",\n      onPress: showTimePicker\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20\n  },\n  selectedTime: {\n    fontSize: 18,\n    marginBottom: 20\n  }\n});\nexport default AlarmClock;","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","View","Text","Button","TimePickerAndroid","Alert","jsx","_jsx","jsxs","_jsxs","AlarmClock","_useState","_useState2","_slicedToArray","alarmTime","setAlarmTime","showTimePicker","_ref","_asyncToGenerator","_yield$TimePickerAndr","open","is24Hour","action","hour","minute","dismissedAction","formattedHour","formattedMinute","selectedTime","scheduleAlarm","error","console","log","apply","arguments","time","currentDateTime","Date","_time$split","split","_time$split2","selectedHour","selectedMinute","alarmDateTime","getFullYear","getMonth","getDate","Number","alert","timeDifference","getTime","setTimeout","style","styles","container","children","title","onPress","create","flex","alignItems","justifyContent","padding","fontSize","fontWeight","marginBottom"],"sources":["/Users/zhangxinyi/Desktop/My Home/code/MyProject/components/AlarmClock.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { StyleSheet, View, Text, Button, TimePickerAndroid, Alert } from 'react-native';\n\nconst AlarmClock = () => {\n  const [alarmTime, setAlarmTime] = useState(null);\n\n  const showTimePicker = async () => {\n    try {\n      const { action, hour, minute } = await TimePickerAndroid.open({\n        is24Hour: true,\n      });\n\n      if (action !== TimePickerAndroid.dismissedAction) {\n        const formattedHour = hour < 10 ? `0${hour}` : hour;\n        const formattedMinute = minute < 10 ? `0${minute}` : minute;\n        const selectedTime = `${formattedHour}:${formattedMinute}`;\n        setAlarmTime(selectedTime);\n        scheduleAlarm(selectedTime);\n      }\n    } catch (error) {\n      console.log('Time picker error: ', error);\n    }\n  };\n\n  const scheduleAlarm = (time) => {\n    const currentDateTime = new Date();\n    const [selectedHour, selectedMinute] = time.split(':');\n    const alarmDateTime = new Date(\n      currentDateTime.getFullYear(),\n      currentDateTime.getMonth(),\n      currentDateTime.getDate(),\n      Number(selectedHour),\n      Number(selectedMinute),\n    );\n\n    if (alarmDateTime <= currentDateTime) {\n      // Alarm time has already passed\n      Alert.alert('Invalid Time', 'Please select a future time for the alarm.');\n    } else {\n      const timeDifference = alarmDateTime.getTime() - currentDateTime.getTime();\n      setTimeout(() => {\n        Alert.alert('Alarm', 'Wake up! It\\'s time!');\n        setAlarmTime(null);\n      }, timeDifference);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Alarm Clock</Text>\n      <Text style={styles.selectedTime}>{alarmTime ? `Alarm set for ${alarmTime}` : 'No alarm set'}</Text>\n      <Button title=\"Set Alarm\" onPress={showTimePicker} />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  selectedTime: {\n    fontSize: 18,\n    marginBottom: 20,\n  },\n});\n\nexport default AlarmClock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}